<div *ngIf="room" class="chatRoom">

  <div class="title"> 
    <span>{{room.title}}</span> 
  </div>

  <div class="chat">
    
    <div class="messageList">
        <ul>
      
          <li *ngFor="let msg of messages; let i = index;" [ngClass]="(username===msg.sender)?'right':'left'">
      
            <div *ngIf="i==0 || msg.sender !== messages[i-1].sender" 
                  class="sender" 
                  [ngClass]="(user===msg.sender)?'right':'left'">
              <img class="profilePicture" *ngIf="!msg.sender.profilePicture" 
              src="http://voice4thought.org/wp-content/uploads/2016/08/default1.jpg">
              <span> {{msg.sender}} </span>
            </div>
            <span [ngClass]="(username===msg.sender)?'orange':'blue'"> {{msg.message}}</span>
          </li>
      
        </ul>
      
        <div class="messageInput">
          <input (keyup.enter)="sendMessage()" [(ngModel)]="message" />
          <button (click)="sendMessage()">Send</button>
        </div>

    </div> 

    <div class="info" >
     
      <ul class="roomSettings">
        <li><span (click)="openTitleDialog()">Change title</span></li>
        <li><span (click)="openInviteUserDialog()">Invite users</span></li>
        <li><span (click)="leaveRoom()">Leave room</span></li>
      </ul>

      <ul class="userList">
        <li *ngFor="let member of room.members">
          <img class="memberPicture" *ngIf="!member.profilePicture" 
          src="http://voice4thought.org/wp-content/uploads/2016/08/default1.jpg"/>
          <span>{{member.username}}</span>
        </li>   
      </ul>

    </div>

  </div>

  

</div>