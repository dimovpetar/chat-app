<div *ngIf="room" class="chatRoom">

  <div class="title"> Chat title {{room.title}} </div>
  <ul>

    <li *ngFor="let msg of messages; let i = index;" [ngClass]="(user===msg.sender)?'right':'left'">

      <div *ngIf="i==0 || msg.sender !== messages[i-1].sender" 
            class="sender" 
            [ngClass]="(user===msg.sender)?'right':'left'">
        <img class="profilePicture" *ngIf="!msg.sender.profilePicture" 
        src="http://voice4thought.org/wp-content/uploads/2016/08/default1.jpg">
        <span> {{msg.sender}} </span>
      </div>
      <span [ngClass]="(user===msg.sender)?'orange':'blue'"> {{msg.message}}</span>
    </li>

  </ul>

  <div class="messageInput">
    <input id="m" (keyup.enter)="sendMessage()" [value]="message" (input)="message = $event.target.value" />
    <button (click)="sendMessage()">Send</button>
  </div>

</div>